{"componentChunkName":"component---src-templates-info-page-template-js","path":"/unity-assignment","result":{"data":{"page":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This assignment is for an extra ECTS with the title \"Kubernetes workshop\". By attending the Kubernetes webinar and doing this extra assignment you can get 1 extra credit."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Enrolment for the course is required for the extra credit."}]},{"type":"text","value":" Follow the instructions on "},{"type":"element","tagName":"a","properties":{"href":"/registration-and-completion"},"children":[{"type":"text","value":"/registration-and-completion"}]},{"type":"text","value":" to ensure you've enrolled. Unfortunately, this also means that the credits are only available if electronic enrollment is available to you, as specified on the registration and completion page."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Deadline for the assignment is the end of the course."}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"recap","style":"position:relative;"},"children":[{"type":"text","value":"Recap"},{"type":"element","tagName":"a","properties":{"href":"#recap","ariaLabel":"recap permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Shijun used the following helm chart to deploy Prometheus and Grafana (and all the other tools) to his cluster: "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack"}]},{"type":"text","value":". The repository also has the install instructions."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In this helpful section from the kube-prometheus-stack "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack#prometheusioscrape","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"README"}]},{"type":"text","value":" we learned how to tell prometheus to scrape all \"PodMonitorSelectors\" and \"ServiceMonitorSelector\" CRDs:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"helm upgrade --set prometheus.prometheusSpec.podMonitorSelectorNilUsesHelmValues=false --set prometheus.prometheusSpec.serviceMonitorSelectorNilUsesHelmValues=false prometheus prometheus-community/kube-prometheus-stack"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Also, you have already completed "},{"type":"element","tagName":"a","properties":{"href":"/part-2/5-monitoring"},"children":[{"type":"text","value":"/part-2/5-monitoring"}]},{"type":"text","value":", which introduced you how to connect to grafana with kubectl port-forward."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"assignment","style":"position:relative;"},"children":[{"type":"text","value":"Assignment"},{"type":"element","tagName":"a","properties":{"href":"#assignment","ariaLabel":"assignment permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Create an application and setup Prometheus so that it scrapes the application for metrics and show how the metrics change over time through grafana. Follow the steps to not get overwhelmed:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"step-0-preparation","style":"position:relative;"},"children":[{"type":"text","value":"Step 0: Preparation"},{"type":"element","tagName":"a","properties":{"href":"#step-0-preparation","ariaLabel":"step 0 preparation permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As a preparation create a new web app project, with whatever tech stack / language you choose. I "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"highly recommend"}]},{"type":"text","value":" choosing a language from "},{"type":"element","tagName":"a","properties":{"href":"https://prometheus.io/docs/instrumenting/clientlibs/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"this list"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The app should have 3 endpoints: /cat, /dog and /random."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"/cat endpoint returns an image of a cat"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"/dog endpoint returns an image of a dog"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"/random endpoint returns a random image"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"step-1-prometheus-client-library","style":"position:relative;"},"children":[{"type":"text","value":"Step 1: Prometheus client library"},{"type":"element","tagName":"a","properties":{"href":"#step-1-prometheus-client-library","ariaLabel":"step 1 prometheus client library permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This step will require you to read the documentation for the client libraries, choose what type the metric will be and expose the metrics through an endpoint."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Add Prometheus client library and track the usage of "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"each image type"}]},{"type":"text","value":". Whenever a cat image is shown increment the counter for cats, and whenever a dog is shown increment the counter for dogs."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here's an image that confirms you've completed step 1, where the metrics are available to Prometheus in /metrics path."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 403px; margin-bottom: 1rem;"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/62af0775e17c12eb0ae4b7d94873ecaa/045fd/unity-webinar-prom-client.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 36.08695652173913%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABNElEQVR42m2QWW/CQAyE8///GgIJHrhCyLkld7KbG6VMbdOlL7U0cuJ4v52Jo43BMIyYlwWt1iirGk2rEcYJ/DCC691x90PcgwhBlCCKlXzLywra9Gi0IXVozVsOw57PJ9b1G/M8i8ZpogMl1CNFlCiorweyvEBWFO9OMl2PcV4wkZGJek8cljPR4SzL0HUd+p6WxhGGXHPvacZ9oHld15RkoAsn2dWUht8LuqRpGthy0jTFZrOB67q4Xq/wfR/7/R6XywXb7RbH41Fmu91O5hbcti3YTElJGM71er3gxHGM2+0mQM/zRAxJkgRhGIpDlnW0UETu9rn7TfEBWocMPZ/PAmR37Op0Osk8CIKP66qqJKZSSi5hQ3me/wF5mQ/byAw9HA4CYVkH/F855rqu+K8YxvUDU0IN7CFRek8AAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"picture","properties":{},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/62af0775e17c12eb0ae4b7d94873ecaa/a0b58/unity-webinar-prom-client.webp 230w","/static/62af0775e17c12eb0ae4b7d94873ecaa/ca1b5/unity-webinar-prom-client.webp 403w"],"sizes":["(max-width:","403px)","100vw,","403px"],"type":"image/webp"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/62af0775e17c12eb0ae4b7d94873ecaa/81c8e/unity-webinar-prom-client.png 230w","/static/62af0775e17c12eb0ae4b7d94873ecaa/045fd/unity-webinar-prom-client.png 403w"],"sizes":["(max-width:","403px)","100vw,","403px"],"type":"image/png"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"src":"/static/62af0775e17c12eb0ae4b7d94873ecaa/045fd/unity-webinar-prom-client.png","alt":"unity webinar prom client","title":"unity webinar prom client","loading":"lazy","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"},"children":[]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"step-2-prometheus-operator","style":"position:relative;"},"children":[{"type":"text","value":"Step 2: Prometheus operator"},{"type":"element","tagName":"a","properties":{"href":"#step-2-prometheus-operator","ariaLabel":"step 2 prometheus operator permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This step is the most challenging and will require you to read the documentation for the "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"kube-prometheus-stack"}]},{"type":"text","value":" and install Prometheus to your cluster and configure it to scrape your application."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tip: Check the Recap section above."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You will need a "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PodMonitor"}]},{"type":"text","value":" Custom Resource, "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/design.md#podmonitor","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"docs here"}]},{"type":"text","value":", "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#podmonitor","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"api doc here"}]},{"type":"text","value":" and an "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/prometheus-operator/prometheus-operator/blob/master/example/user-guides/getting-started/example-app-pod-monitor.yaml","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"example here"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Interestingly, according to API documentation, the PodMonitor only accepts the monitored port as a string value, so you will need to add a name to the port, e.g:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"podmonitor.yaml"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"podMetricsEndpoints"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"port"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" web\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"path"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/metrics\""}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"deplyment.yaml"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"containers"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"ports"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"name"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" web\n        "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"containerPort"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"8080"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Install Prometheus to your cluster and have it scrape your application. Confirm that it has the data by querying through the Prometheus UI"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here's an image that confirms you've completed step 2, the data is available to Prometheus:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 920px; margin-bottom: 1rem;"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/17d722d91ee7a9c18c4d05689ecb5f95/05fb0/unity-webinar-prom.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 31.73913043478261%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABG0lEQVR42qWO0U7CQBBF+9kgkRYLGGMgBrRQqa0aX/wWX/RRDcYYE4PEtLvttmzb5Tq7xfABTnJy787Mzox1MjrD6XiCw94AHadvVOO4Q9hEx3Zx0D1Ce4f2um67x80fqnf7Q7RabfScAawguoXmYh5gvgjh+QEmno+RF+HcDzGe+pjOFphdXpma5zeq+7XqvPY31yHCKIIFiqqqUNcV/hP3L8DdE2DFcYKYC8SZRFmWkLIkraBUTUsaKg0t3VObXpHnRIFNUeDxU+JhyWA9vy6xWv+AZTkkNb29f+Br9Y3m8v1AM1wpWqSMVzv/9wa22JYClpQSQgikaUpk4JyDMW68zuV0RZaRJ4xSPkkS8sJ4nWM8xZoVWMcpfgGvDaEzMGvlNwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"picture","properties":{},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/17d722d91ee7a9c18c4d05689ecb5f95/a0b58/unity-webinar-prom.webp 230w","/static/17d722d91ee7a9c18c4d05689ecb5f95/bc10c/unity-webinar-prom.webp 460w","/static/17d722d91ee7a9c18c4d05689ecb5f95/966d8/unity-webinar-prom.webp 920w","/static/17d722d91ee7a9c18c4d05689ecb5f95/22e6c/unity-webinar-prom.webp 1138w"],"sizes":["(max-width:","920px)","100vw,","920px"],"type":"image/webp"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/17d722d91ee7a9c18c4d05689ecb5f95/81c8e/unity-webinar-prom.png 230w","/static/17d722d91ee7a9c18c4d05689ecb5f95/08a84/unity-webinar-prom.png 460w","/static/17d722d91ee7a9c18c4d05689ecb5f95/c0255/unity-webinar-prom.png 920w","/static/17d722d91ee7a9c18c4d05689ecb5f95/05fb0/unity-webinar-prom.png 1138w"],"sizes":["(max-width:","920px)","100vw,","920px"],"type":"image/png"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"src":"/static/17d722d91ee7a9c18c4d05689ecb5f95/c0255/unity-webinar-prom.png","alt":"unity webinar prom","title":"unity webinar prom","loading":"lazy","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"},"children":[]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"step-3-grafana","style":"position:relative;"},"children":[{"type":"text","value":"Step 3: Grafana"},{"type":"element","tagName":"a","properties":{"href":"#step-3-grafana","ariaLabel":"step 3 grafana permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Show Grafana graph for the types of images trending."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here's an image that confirms you've completed step 3, here the Grafana gets data from Prometheus about the cat and dog views and shows them as a rate over the last 5 minutes:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 920px; margin-bottom: 1rem;"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/bd949d9c52bf5dc51cda0d4e9201b65c/aa459/unity-webinar-grafana.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 42.173913043478265%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABVUlEQVR42m2PWW+CQBSFaZq+VJG2ggybuMAwQwEV9KlREZc2bfr/f87pMECiqQ9fzsldztxRfr+/cPn6wfF0wXZX4mO7x3Z/wO6KQ3VCWR1Fvbypn86fYq+hOl9QlQcoffUFvZbnvnYXfWgLHGiqcbcvd3saHh6foNiuD9NyQSxP6rU3TAsTl4H7a/BxATpegthixm7mRpYj1Gk8cTDQXqGYYlkfWdDNDiLVdFxMZhScrhBHuVQWrGCRiZw3TBu28DW1H44I+qoGRTcIbM/HPGaY8UjAMOUULM2QLtZIFkVLjiQrwMIlAj9F4GZg0xV4kCP0MhDii68PoLzpJsIoQbbYyIWGtdT3NP+H7KcF4ritZeL6aQGXBCJQbQIpS8Q114HFTbi8tH1E0l3deb6Ba83R64vAofjynHJEPEMogmtoS315DWVp04tue52PeApvPBOBA/wBbLfkdxP+UJQAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"picture","properties":{},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/bd949d9c52bf5dc51cda0d4e9201b65c/a0b58/unity-webinar-grafana.webp 230w","/static/bd949d9c52bf5dc51cda0d4e9201b65c/bc10c/unity-webinar-grafana.webp 460w","/static/bd949d9c52bf5dc51cda0d4e9201b65c/966d8/unity-webinar-grafana.webp 920w","/static/bd949d9c52bf5dc51cda0d4e9201b65c/445df/unity-webinar-grafana.webp 1380w","/static/bd949d9c52bf5dc51cda0d4e9201b65c/78de1/unity-webinar-grafana.webp 1840w","/static/bd949d9c52bf5dc51cda0d4e9201b65c/10c71/unity-webinar-grafana.webp 1969w"],"sizes":["(max-width:","920px)","100vw,","920px"],"type":"image/webp"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/bd949d9c52bf5dc51cda0d4e9201b65c/81c8e/unity-webinar-grafana.png 230w","/static/bd949d9c52bf5dc51cda0d4e9201b65c/08a84/unity-webinar-grafana.png 460w","/static/bd949d9c52bf5dc51cda0d4e9201b65c/c0255/unity-webinar-grafana.png 920w","/static/bd949d9c52bf5dc51cda0d4e9201b65c/b1001/unity-webinar-grafana.png 1380w","/static/bd949d9c52bf5dc51cda0d4e9201b65c/161ec/unity-webinar-grafana.png 1840w","/static/bd949d9c52bf5dc51cda0d4e9201b65c/aa459/unity-webinar-grafana.png 1969w"],"sizes":["(max-width:","920px)","100vw,","920px"],"type":"image/png"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"src":"/static/bd949d9c52bf5dc51cda0d4e9201b65c/c0255/unity-webinar-grafana.png","alt":"unity webinar grafana","title":"unity webinar grafana","loading":"lazy","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"},"children":[]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"done-what-now","style":"position:relative;"},"children":[{"type":"text","value":"Done, what now?"},{"type":"element","tagName":"a","properties":{"href":"#done-what-now","ariaLabel":"done what now permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Contact me (jami.kousa@helsinki.fi) and tell me your student number and a link to your project."}]}],"data":{"quirksMode":false}},"html":"<p>This assignment is for an extra ECTS with the title \"Kubernetes workshop\". By attending the Kubernetes webinar and doing this extra assignment you can get 1 extra credit.</p>\n<p><strong>Enrolment for the course is required for the extra credit.</strong> Follow the instructions on <a href=\"/registration-and-completion\">/registration-and-completion</a> to ensure you've enrolled. Unfortunately, this also means that the credits are only available if electronic enrollment is available to you, as specified on the registration and completion page.</p>\n<p><strong>Deadline for the assignment is the end of the course.</strong></p>\n<h1 id=\"recap\" style=\"position:relative;\">Recap<a href=\"#recap\" aria-label=\"recap permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>Shijun used the following helm chart to deploy Prometheus and Grafana (and all the other tools) to his cluster: <a href=\"https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack</a>. The repository also has the install instructions.</p>\n<p>In this helpful section from the kube-prometheus-stack <a href=\"https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack#prometheusioscrape\" target=\"_blank\" rel=\"noopener noreferrer\">README</a> we learned how to tell prometheus to scrape all \"PodMonitorSelectors\" and \"ServiceMonitorSelector\" CRDs:</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">helm upgrade --set prometheus.prometheusSpec.podMonitorSelectorNilUsesHelmValues=false --set prometheus.prometheusSpec.serviceMonitorSelectorNilUsesHelmValues=false prometheus prometheus-community/kube-prometheus-stack</code></pre></div>\n<p>Also, you have already completed <a href=\"/part-2/5-monitoring\">/part-2/5-monitoring</a>, which introduced you how to connect to grafana with kubectl port-forward.</p>\n<h1 id=\"assignment\" style=\"position:relative;\">Assignment<a href=\"#assignment\" aria-label=\"assignment permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>Create an application and setup Prometheus so that it scrapes the application for metrics and show how the metrics change over time through grafana. Follow the steps to not get overwhelmed:</p>\n<h3 id=\"step-0-preparation\" style=\"position:relative;\">Step 0: Preparation<a href=\"#step-0-preparation\" aria-label=\"step 0 preparation permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>As a preparation create a new web app project, with whatever tech stack / language you choose. I <strong>highly recommend</strong> choosing a language from <a href=\"https://prometheus.io/docs/instrumenting/clientlibs/\" target=\"_blank\" rel=\"noopener noreferrer\">this list</a></p>\n<p>The app should have 3 endpoints: /cat, /dog and /random.</p>\n<ul>\n<li>/cat endpoint returns an image of a cat</li>\n<li>/dog endpoint returns an image of a dog</li>\n<li>/random endpoint returns a random image</li>\n</ul>\n<h3 id=\"step-1-prometheus-client-library\" style=\"position:relative;\">Step 1: Prometheus client library<a href=\"#step-1-prometheus-client-library\" aria-label=\"step 1 prometheus client library permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>This step will require you to read the documentation for the client libraries, choose what type the metric will be and expose the metrics through an endpoint.</p>\n<p>Add Prometheus client library and track the usage of <em>each image type</em>. Whenever a cat image is shown increment the counter for cats, and whenever a dog is shown increment the counter for dogs.</p>\n<p>Here's an image that confirms you've completed step 1, where the metrics are available to Prometheus in /metrics path.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 403px; margin-bottom: 1rem;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/62af0775e17c12eb0ae4b7d94873ecaa/045fd/unity-webinar-prom-client.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 36.08695652173913%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABNElEQVR42m2QWW/CQAyE8///GgIJHrhCyLkld7KbG6VMbdOlL7U0cuJ4v52Jo43BMIyYlwWt1iirGk2rEcYJ/DCC691x90PcgwhBlCCKlXzLywra9Gi0IXVozVsOw57PJ9b1G/M8i8ZpogMl1CNFlCiorweyvEBWFO9OMl2PcV4wkZGJek8cljPR4SzL0HUd+p6WxhGGXHPvacZ9oHld15RkoAsn2dWUht8LuqRpGthy0jTFZrOB67q4Xq/wfR/7/R6XywXb7RbH41Fmu91O5hbcti3YTElJGM71er3gxHGM2+0mQM/zRAxJkgRhGIpDlnW0UETu9rn7TfEBWocMPZ/PAmR37Op0Osk8CIKP66qqJKZSSi5hQ3me/wF5mQ/byAw9HA4CYVkH/F855rqu+K8YxvUDU0IN7CFRek8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <picture>\n        <source srcset=\"/static/62af0775e17c12eb0ae4b7d94873ecaa/a0b58/unity-webinar-prom-client.webp 230w,\n/static/62af0775e17c12eb0ae4b7d94873ecaa/ca1b5/unity-webinar-prom-client.webp 403w\" sizes=\"(max-width: 403px) 100vw, 403px\" type=\"image/webp\">\n        <source srcset=\"/static/62af0775e17c12eb0ae4b7d94873ecaa/81c8e/unity-webinar-prom-client.png 230w,\n/static/62af0775e17c12eb0ae4b7d94873ecaa/045fd/unity-webinar-prom-client.png 403w\" sizes=\"(max-width: 403px) 100vw, 403px\" type=\"image/png\">\n        <img class=\"gatsby-resp-image-image\" src=\"/static/62af0775e17c12eb0ae4b7d94873ecaa/045fd/unity-webinar-prom-client.png\" alt=\"unity webinar prom client\" title=\"unity webinar prom client\" loading=\"lazy\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n      </picture>\n  </a>\n    </span>\n<h3 id=\"step-2-prometheus-operator\" style=\"position:relative;\">Step 2: Prometheus operator<a href=\"#step-2-prometheus-operator\" aria-label=\"step 2 prometheus operator permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>This step is the most challenging and will require you to read the documentation for the <a href=\"https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack\" target=\"_blank\" rel=\"noopener noreferrer\">kube-prometheus-stack</a> and install Prometheus to your cluster and configure it to scrape your application.</p>\n<p>Tip: Check the Recap section above.</p>\n<p>You will need a <em>PodMonitor</em> Custom Resource, <a href=\"https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/design.md#podmonitor\" target=\"_blank\" rel=\"noopener noreferrer\">docs here</a>, <a href=\"https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#podmonitor\" target=\"_blank\" rel=\"noopener noreferrer\">api doc here</a> and an <a href=\"https://github.com/prometheus-operator/prometheus-operator/blob/master/example/user-guides/getting-started/example-app-pod-monitor.yaml\" target=\"_blank\" rel=\"noopener noreferrer\">example here</a></p>\n<p>Interestingly, according to API documentation, the PodMonitor only accepts the monitored port as a string value, so you will need to add a name to the port, e.g:</p>\n<p><strong>podmonitor.yaml</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">  <span class=\"token key atrule\">podMetricsEndpoints</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> web\n    <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/metrics\"</span></code></pre></div>\n<p><strong>deplyment.yaml</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">  <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> web\n        <span class=\"token key atrule\">containerPort</span><span class=\"token punctuation\">:</span> <span class=\"token number\">8080</span></code></pre></div>\n<p>Install Prometheus to your cluster and have it scrape your application. Confirm that it has the data by querying through the Prometheus UI</p>\n<p>Here's an image that confirms you've completed step 2, the data is available to Prometheus:</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 920px; margin-bottom: 1rem;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/17d722d91ee7a9c18c4d05689ecb5f95/05fb0/unity-webinar-prom.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 31.73913043478261%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABG0lEQVR42qWO0U7CQBBF+9kgkRYLGGMgBrRQqa0aX/wWX/RRDcYYE4PEtLvttmzb5Tq7xfABTnJy787Mzox1MjrD6XiCw94AHadvVOO4Q9hEx3Zx0D1Ce4f2um67x80fqnf7Q7RabfScAawguoXmYh5gvgjh+QEmno+RF+HcDzGe+pjOFphdXpma5zeq+7XqvPY31yHCKIIFiqqqUNcV/hP3L8DdE2DFcYKYC8SZRFmWkLIkraBUTUsaKg0t3VObXpHnRIFNUeDxU+JhyWA9vy6xWv+AZTkkNb29f+Br9Y3m8v1AM1wpWqSMVzv/9wa22JYClpQSQgikaUpk4JyDMW68zuV0RZaRJ4xSPkkS8sJ4nWM8xZoVWMcpfgGvDaEzMGvlNwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <picture>\n        <source srcset=\"/static/17d722d91ee7a9c18c4d05689ecb5f95/a0b58/unity-webinar-prom.webp 230w,\n/static/17d722d91ee7a9c18c4d05689ecb5f95/bc10c/unity-webinar-prom.webp 460w,\n/static/17d722d91ee7a9c18c4d05689ecb5f95/966d8/unity-webinar-prom.webp 920w,\n/static/17d722d91ee7a9c18c4d05689ecb5f95/22e6c/unity-webinar-prom.webp 1138w\" sizes=\"(max-width: 920px) 100vw, 920px\" type=\"image/webp\">\n        <source srcset=\"/static/17d722d91ee7a9c18c4d05689ecb5f95/81c8e/unity-webinar-prom.png 230w,\n/static/17d722d91ee7a9c18c4d05689ecb5f95/08a84/unity-webinar-prom.png 460w,\n/static/17d722d91ee7a9c18c4d05689ecb5f95/c0255/unity-webinar-prom.png 920w,\n/static/17d722d91ee7a9c18c4d05689ecb5f95/05fb0/unity-webinar-prom.png 1138w\" sizes=\"(max-width: 920px) 100vw, 920px\" type=\"image/png\">\n        <img class=\"gatsby-resp-image-image\" src=\"/static/17d722d91ee7a9c18c4d05689ecb5f95/c0255/unity-webinar-prom.png\" alt=\"unity webinar prom\" title=\"unity webinar prom\" loading=\"lazy\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n      </picture>\n  </a>\n    </span>\n<h3 id=\"step-3-grafana\" style=\"position:relative;\">Step 3: Grafana<a href=\"#step-3-grafana\" aria-label=\"step 3 grafana permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Show Grafana graph for the types of images trending.</p>\n<p>Here's an image that confirms you've completed step 3, here the Grafana gets data from Prometheus about the cat and dog views and shows them as a rate over the last 5 minutes:</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 920px; margin-bottom: 1rem;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/bd949d9c52bf5dc51cda0d4e9201b65c/aa459/unity-webinar-grafana.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 42.173913043478265%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABVUlEQVR42m2PWW+CQBSFaZq+VJG2ggybuMAwQwEV9KlREZc2bfr/f87pMECiqQ9fzsldztxRfr+/cPn6wfF0wXZX4mO7x3Z/wO6KQ3VCWR1Fvbypn86fYq+hOl9QlQcoffUFvZbnvnYXfWgLHGiqcbcvd3saHh6foNiuD9NyQSxP6rU3TAsTl4H7a/BxATpegthixm7mRpYj1Gk8cTDQXqGYYlkfWdDNDiLVdFxMZhScrhBHuVQWrGCRiZw3TBu28DW1H44I+qoGRTcIbM/HPGaY8UjAMOUULM2QLtZIFkVLjiQrwMIlAj9F4GZg0xV4kCP0MhDii68PoLzpJsIoQbbYyIWGtdT3NP+H7KcF4ritZeL6aQGXBCJQbQIpS8Q114HFTbi8tH1E0l3deb6Ba83R64vAofjynHJEPEMogmtoS315DWVp04tue52PeApvPBOBA/wBbLfkdxP+UJQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <picture>\n        <source srcset=\"/static/bd949d9c52bf5dc51cda0d4e9201b65c/a0b58/unity-webinar-grafana.webp 230w,\n/static/bd949d9c52bf5dc51cda0d4e9201b65c/bc10c/unity-webinar-grafana.webp 460w,\n/static/bd949d9c52bf5dc51cda0d4e9201b65c/966d8/unity-webinar-grafana.webp 920w,\n/static/bd949d9c52bf5dc51cda0d4e9201b65c/445df/unity-webinar-grafana.webp 1380w,\n/static/bd949d9c52bf5dc51cda0d4e9201b65c/78de1/unity-webinar-grafana.webp 1840w,\n/static/bd949d9c52bf5dc51cda0d4e9201b65c/10c71/unity-webinar-grafana.webp 1969w\" sizes=\"(max-width: 920px) 100vw, 920px\" type=\"image/webp\">\n        <source srcset=\"/static/bd949d9c52bf5dc51cda0d4e9201b65c/81c8e/unity-webinar-grafana.png 230w,\n/static/bd949d9c52bf5dc51cda0d4e9201b65c/08a84/unity-webinar-grafana.png 460w,\n/static/bd949d9c52bf5dc51cda0d4e9201b65c/c0255/unity-webinar-grafana.png 920w,\n/static/bd949d9c52bf5dc51cda0d4e9201b65c/b1001/unity-webinar-grafana.png 1380w,\n/static/bd949d9c52bf5dc51cda0d4e9201b65c/161ec/unity-webinar-grafana.png 1840w,\n/static/bd949d9c52bf5dc51cda0d4e9201b65c/aa459/unity-webinar-grafana.png 1969w\" sizes=\"(max-width: 920px) 100vw, 920px\" type=\"image/png\">\n        <img class=\"gatsby-resp-image-image\" src=\"/static/bd949d9c52bf5dc51cda0d4e9201b65c/c0255/unity-webinar-grafana.png\" alt=\"unity webinar grafana\" title=\"unity webinar grafana\" loading=\"lazy\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n      </picture>\n  </a>\n    </span>\n<h1 id=\"done-what-now\" style=\"position:relative;\">Done, what now?<a href=\"#done-what-now\" aria-label=\"done what now permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>Contact me (jami.kousa@helsinki.fi) and tell me your student number and a link to your project.</p>","frontmatter":{"path":"/unity-assignment","title":"Unity Assignment","banner":null},"fileAbsolutePath":"/Users/matti/dev/kubernetes-hy.github.io/data/unity-assignment.md"}},"pageContext":{}},"staticQueryHashes":["3294351120","994120085"]}