{"componentChunkName":"component---src-templates-course-content-template-js","path":"/part-0/2-kubectl-config","result":{"data":{"page":{"htmlAst":{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"h2","properties":{"id":"lens","style":"position:relative;"},"children":[{"type":"text","value":"Lens"},{"type":"element","tagName":"a","properties":{"href":"#lens","ariaLabel":"lens permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://k8slens.dev/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://k8slens.dev/"}]},{"type":"text","value":" by Mirantis"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/MuhammedKalkan/OpenLens","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://github.com/MuhammedKalkan/OpenLens"}]},{"type":"text","value":" by Muhammed Klakan"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/lensapp/lens","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://github.com/lensapp/lens"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/lensapp/lens/issues?q=is%3Aissue+author%3Amatti","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://github.com/lensapp/lens/issues?q=is%3Aissue+author%3Amatti"}]},{"type":"text","value":"+"}]},{"type":"element","tagName":"exercise","properties":{"name":"Lens time"},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"  Let's open Lens and authenticate."}]}]},{"type":"element","tagName":"exercise","properties":{"name":"kubectl"},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Open Lens Terminal and meet "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"kube"}]},{"type":"text","value":" "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"control"}]}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"kubectl"}]}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"text","value":"...\nBasic Commands (Beginner):\n  create          Create a resource from a file or from stdin\n  expose          Take a replication controller, service, deployment or pod and expose it as a new Kubernetes service\n  run             Run a particular image on the cluster\n  set             Set specific features on objects\n\nBasic Commands (Intermediate):\n  explain         Get documentation for a resource\n  get             Display one or many resources\n  edit            Edit a resource on the server\n  delete          Delete resources by file names, stdin, resources and names, or by resources and label selector\n\nDeploy Commands:\n  rollout         Manage the rollout of a resource\n  scale           Set a new size for a deployment, replica set, or replication controller\n...\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Built-in "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"commands"}]},{"type":"text","value":" or "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"plugins"}]}]}]},{"type":"element","tagName":"h2","properties":{"id":"kubectl-version","style":"position:relative;"},"children":[{"type":"text","value":"kubectl version"},{"type":"element","tagName":"a","properties":{"href":"#kubectl-version","ariaLabel":"kubectl version permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"exercise","properties":{"name":"My first kubernetes API call"},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Let's make the first kubernetes API call"}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"kubectl version --short"}]}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"text","value":"Client Version: v1.24.7\nServer Version: v1.24.7-eks-fb459a0\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Congrats, you have now used kubernetes."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Try without "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"--short"}]}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"kubectl version"}]}]}]}]},{"type":"element","tagName":"text-box","properties":{"variant":"learningObjectives","name":"kubeconfig"},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"kubectl uses "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$HOME/.kube/config"}]},{"type":"text","value":" or "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$KUBECONFIG"}]},{"type":"text","value":" or "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"--kubeconfig"}]}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"$ echo $KUBECONFIG\n/var/folders/gf/rlgqw8j564x8rkynfg6l498m0000gn/T/kubeconfig-9b4307491c8b92b8bbde7f8049943bb1"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Lens Magic "},{"type":"element","tagName":"img","properties":{"className":["emoji-icon"],"alt":"emoji-tm","dataIcon":"emoji-tm","style":"display: inline; margin: 0; margin-top: 1px; position: relative; top: 5px; width: 25px","src":"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAADC0lEQVR4Ae3VA8z1WBDG8f+c9n7W2rZt2461sZ2s46zjjZNltLZt27b9We2ZWdzJSZq+fXO57K+aUz41/3utVqvVarUEAA67kANM6YEEfYLzvD5BzjQFJ/LDj6ezhJo5m069wjIMnHAgLj8UgLiz7E9PDFuc6vWqWxnzLuMJarKj9WAaBOPPboXRa8cKcKVR7cKJgXqnxxhNXW4AKEKvjKS+1VFPnE1JxZ6rTdvbaJIrAHF6HwGm44SabfbdhRep2j+uTqM8AqBXyQsWcaIcKgfj7DEesQAu5y2SAFWZHV0LcAyT8FsQrgeBJJakAHo/FzMhwag58fkLUJKNp611KDD5FaizqfW6twC2w65b8S4kO+vmMvkVmEiJgLNeHsdoUaYAMNWOIQUAOUrFywXMJIeqEJmo0566SKp+sSe9huNIXhU7ytdQvUOtvo+gjKIzKW+N6q294yaRbrfN5nEXn/upPqadEQeIpGpa+ax96K0Zemja/cE2zSM+Fb9UxnYFNI/f6yNeYycb3Y6jU8Rbi3LkAajUxS2pte/StZaylAWrxv398AtXPmrTlHqXKxPRat0o0GXYtPKpzteyHgCrdg7hOsj20zV9+ROyUDsAI30LQEldFpanm4Aeryh6lLew2w1EGdtDqJgY5W1pyWELZn2U2+HeWlo8XFAy8lsgiFdGAeSP6vesBcDaU/bY8HvdUgCwZ/gUYtPfcPAvIUh1q1/DU3KaLzk6fht8sd4DYP38C3SgABBvDR7ATpZlCgAr7N7ma5nrEAGMAK4AIDzEz6wGwJaGe+nb9wHWIow6gKBU6fc8JSdRdd9aNqYrAEIV2J1WCWBFeScAZIRxBlhJV+d+FshcEnt7/tsAMA/G+AwkxVf5c3YUid01r4SxPYT1CuJdkgKYcWeqx/kQGgUOuSe/VKYDgL2/+DXc7L6uQEdwWIcmueCmWcDZJ/a8HUzXPTNX4sqsnyvwmbyAs89ooN9mvpatDEtJ4jUyw8ubSewnfYEamc7fK9AGaAO0AdoAbYA2QBugDfB/D/AbGdHjsL+tOlEAAAAASUVORK5CYII=","title":"emoji-tm"},"children":[]},{"type":"text","value":" sets the"}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"kubectl --kubeconfig PATH"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Uses kubeconfig at PATH"}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"KUBECONFIG=\"\" kubectl"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Uses "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$HOME/.kube/config"}]}]}]},{"type":"element","tagName":"text-box","properties":{"variant":"learningObjectives","name":"kubectl config"},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"kubectl is an HTTP API client."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"kubectl config view"}]},{"type":"text","value":" shows the contents of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$KUBECONFIG"}]},{"type":"text","value":" (or "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"--kubeconfig"}]},{"type":"text","value":", or "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$HOME/.kube/config"}]},{"type":"text","value":")"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Lens magic "},{"type":"element","tagName":"img","properties":{"className":["emoji-icon"],"alt":"emoji-tm","dataIcon":"emoji-tm","style":"display: inline; margin: 0; margin-top: 1px; position: relative; top: 5px; width: 25px","src":"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAADC0lEQVR4Ae3VA8z1WBDG8f+c9n7W2rZt2461sZ2s46zjjZNltLZt27b9We2ZWdzJSZq+fXO57K+aUz41/3utVqvVarUEAA67kANM6YEEfYLzvD5BzjQFJ/LDj6ezhJo5m069wjIMnHAgLj8UgLiz7E9PDFuc6vWqWxnzLuMJarKj9WAaBOPPboXRa8cKcKVR7cKJgXqnxxhNXW4AKEKvjKS+1VFPnE1JxZ6rTdvbaJIrAHF6HwGm44SabfbdhRep2j+uTqM8AqBXyQsWcaIcKgfj7DEesQAu5y2SAFWZHV0LcAyT8FsQrgeBJJakAHo/FzMhwag58fkLUJKNp611KDD5FaizqfW6twC2w65b8S4kO+vmMvkVmEiJgLNeHsdoUaYAMNWOIQUAOUrFywXMJIeqEJmo0566SKp+sSe9huNIXhU7ytdQvUOtvo+gjKIzKW+N6q294yaRbrfN5nEXn/upPqadEQeIpGpa+ax96K0Zemja/cE2zSM+Fb9UxnYFNI/f6yNeYycb3Y6jU8Rbi3LkAajUxS2pte/StZaylAWrxv398AtXPmrTlHqXKxPRat0o0GXYtPKpzteyHgCrdg7hOsj20zV9+ROyUDsAI30LQEldFpanm4Aeryh6lLew2w1EGdtDqJgY5W1pyWELZn2U2+HeWlo8XFAy8lsgiFdGAeSP6vesBcDaU/bY8HvdUgCwZ/gUYtPfcPAvIUh1q1/DU3KaLzk6fht8sd4DYP38C3SgABBvDR7ATpZlCgAr7N7ma5nrEAGMAK4AIDzEz6wGwJaGe+nb9wHWIow6gKBU6fc8JSdRdd9aNqYrAEIV2J1WCWBFeScAZIRxBlhJV+d+FshcEnt7/tsAMA/G+AwkxVf5c3YUid01r4SxPYT1CuJdkgKYcWeqx/kQGgUOuSe/VKYDgL2/+DXc7L6uQEdwWIcmueCmWcDZJ/a8HUzXPTNX4sqsnyvwmbyAs89ooN9mvpatDEtJ4jUyw8ubSewnfYEamc7fK9AGaAO0AdoAbYA2QBugDfB/D/AbGdHjsL+tOlEAAAAASUVORK5CYII=","title":"emoji-tm"},"children":[]}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"$ kubectl config view\n  ...\n  apiVersion: v1\n  clusters:\n  - cluster:\n      server: http://127.0.0.1:61351/9b4307491c8b92b8bbde7f8049943bb1\n  ..."}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Without Lens magic:"}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"$ KUBECONFIG=$HOME/.kube/aws-eks-eu-north-1-test-1 kubectl config view\n  apiVersion: v1\n  clusters:\n  - cluster:\n      certificate-authority-data: DATA+OMITTED\n      server: https://7C21A008FAEC9A53D596113221562080.yl4.eu-north-1.eks.amazonaws.com\n    name: arn:aws:eks:eu-north-1:254324309357:cluster/test-1"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"API?"}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"$ curl https://7C21A008FAEC9A53D596113221562080.yl4.eu-north-1.eks.amazonaws.com\n  curl: (60) SSL certificate problem: unable to get local issuer certificate\n  More details here: https://curl.se/docs/sslcerts.html"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kubernetes CA cert, let's ignore"}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"curl -k https://7C21A008FAEC9A53D596113221562080.yl4.eu-north-1.eks.amazonaws.com\n{\n  \"kind\": \"Status\",\n  \"apiVersion\": \"v1\",\n  \"metadata\": {\n\n  },\n  \"status\": \"Failure\",\n  \"message\": \"forbidden: User \\\"system:anonymous\\\" cannot get path \\\"/\\\"\",\n  \"reason\": \"Forbidden\",\n  \"details\": {\n\n  },\n  \"code\": 403\n}%"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"but"}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"$ curl -k https://7C21A008FAEC9A53D596113221562080.yl4.eu-north-1.eks.amazonaws.com/version\n  {\n    \"major\": \"1\",\n    \"minor\": \"22+\",\n    \"gitVersion\": \"v1.22.15-eks-fb459a0\",\n    \"gitCommit\": \"be82fa628e60d024275efaa239bfe53a9119c2d9\",\n    \"gitTreeState\": \"clean\",\n    \"buildDate\": \"2022-10-24T20:33:23Z\",\n    \"goVersion\": \"go1.16.15\",\n    \"compiler\": \"gc\",\n    \"platform\": \"linux/amd64\"\n  }%"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Naturally also client libraries exists "},{"type":"element","tagName":"a","properties":{"href":"https://kubernetes.io/docs/reference/using-api/client-libraries/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://kubernetes.io/docs/reference/using-api/client-libraries/"}]}]}]},{"type":"element","tagName":"text-box","properties":{"variant":"learningObjectives","name":"whops"},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://arstechnica.com/information-technology/2018/02/tesla-cloud-resources-are-hacked-to-run-cryptocurrency-mining-malware/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://arstechnica.com/information-technology/2018/02/tesla-cloud-resources-are-hacked-to-run-cryptocurrency-mining-malware/"}]}]}]},{"type":"element","tagName":"text-box","properties":{"variant":"learningObjectives","name":"kubectl vs kube api version"},"children":[{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"$ KUBECONFIG=$HOME/.kube/aws-eks-eu-north-1-test-1 kubectl version --short\n  Client Version: v1.24.7\n  ..\n  Server Version: v1.22.15-eks-fb459a0\n  WARNING: version difference between client (1.24) and server (1.22) exceeds the supported minor version skew of +/-1"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"kubectl version "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"can"}]},{"type":"text","value":" be different than server version. Some stuff just might not work or be available."}]}]},{"type":"element","tagName":"text-box","properties":{"variant":"learningObjectives","name":"kubectl can exec commands"},"children":[{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"- name: arn:aws:eks:eu-north-1:12345678:cluster/test-1\n  user:\n    exec:\n      apiVersion: client.authentication.k8s.io/v1beta1\n      args:\n      - --region\n      - eu-north-1\n      - eks\n      - get-token\n      - --cluster-name\n      - test-1\n      command: aws"}]}]}]}]},{"type":"element","tagName":"summary","properties":{},"children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"kubectl is an HTTP API client"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"kubectl uses kubeconfig in some way"}]},{"type":"text","value":"\n"}]}]}]},"html":"<div><h2 id=\"lens\" style=\"position:relative;\">Lens<a href=\"#lens\" aria-label=\"lens permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2><p><a href=\"https://k8slens.dev/\" target=\"_blank\" rel=\"noopener noreferrer\">https://k8slens.dev/</a> by Mirantis</p><p><a href=\"https://github.com/MuhammedKalkan/OpenLens\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/MuhammedKalkan/OpenLens</a> by Muhammed Klakan</p><p><a href=\"https://github.com/lensapp/lens\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/lensapp/lens</a></p><p><a href=\"https://github.com/lensapp/lens/issues?q=is%3Aissue+author%3Amatti\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/lensapp/lens/issues?q=is%3Aissue+author%3Amatti</a>+</p><exercise name='Lens time'><p>  Let's open Lens and authenticate.</p></exercise><exercise name='kubectl'><p>Open Lens Terminal and meet <em>kube</em> <em>control</em></p><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">kubectl</code></pre></div><pre>\n...\nBasic Commands (Beginner):\n  create          Create a resource from a file or from stdin\n  expose          Take a replication controller, service, deployment or pod and expose it as a new Kubernetes service\n  run             Run a particular image on the cluster\n  set             Set specific features on objects\n\nBasic Commands (Intermediate):\n  explain         Get documentation for a resource\n  get             Display one or many resources\n  edit            Edit a resource on the server\n  delete          Delete resources by file names, stdin, resources and names, or by resources and label selector\n\nDeploy Commands:\n  rollout         Manage the rollout of a resource\n  scale           Set a new size for a deployment, replica set, or replication controller\n...\n</pre><p>Built-in <em>commands</em> or <em>plugins</em></p></exercise><h2 id=\"kubectl-version\" style=\"position:relative;\">kubectl version<a href=\"#kubectl-version\" aria-label=\"kubectl version permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2><exercise name='My first kubernetes API call'><p>Let's make the first kubernetes API call</p><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">kubectl version --short</code></pre></div><pre>\nClient Version: v1.24.7\nServer Version: v1.24.7-eks-fb459a0\n</pre><p>Congrats, you have now used kubernetes.</p><p>Try without <code class=\"language-text\">--short</code></p><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">kubectl version</code></pre></div></exercise><text-box variant='learningObjectives' name='kubeconfig'><p>kubectl uses <code class=\"language-text\">$HOME/.kube/config</code> or <code class=\"language-text\">$KUBECONFIG</code> or <code class=\"language-text\">--kubeconfig</code></p><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">$ echo $KUBECONFIG\n/var/folders/gf/rlgqw8j564x8rkynfg6l498m0000gn/T/kubeconfig-9b4307491c8b92b8bbde7f8049943bb1</code></pre></div><p>Lens Magic <img class=\"emoji-icon\" alt=\"emoji-tm\" data-icon=\"emoji-tm\" style=\"display: inline; margin: 0; margin-top: 1px; position: relative; top: 5px; width: 25px\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAADC0lEQVR4Ae3VA8z1WBDG8f+c9n7W2rZt2461sZ2s46zjjZNltLZt27b9We2ZWdzJSZq+fXO57K+aUz41/3utVqvVarUEAA67kANM6YEEfYLzvD5BzjQFJ/LDj6ezhJo5m069wjIMnHAgLj8UgLiz7E9PDFuc6vWqWxnzLuMJarKj9WAaBOPPboXRa8cKcKVR7cKJgXqnxxhNXW4AKEKvjKS+1VFPnE1JxZ6rTdvbaJIrAHF6HwGm44SabfbdhRep2j+uTqM8AqBXyQsWcaIcKgfj7DEesQAu5y2SAFWZHV0LcAyT8FsQrgeBJJakAHo/FzMhwag58fkLUJKNp611KDD5FaizqfW6twC2w65b8S4kO+vmMvkVmEiJgLNeHsdoUaYAMNWOIQUAOUrFywXMJIeqEJmo0566SKp+sSe9huNIXhU7ytdQvUOtvo+gjKIzKW+N6q294yaRbrfN5nEXn/upPqadEQeIpGpa+ax96K0Zemja/cE2zSM+Fb9UxnYFNI/f6yNeYycb3Y6jU8Rbi3LkAajUxS2pte/StZaylAWrxv398AtXPmrTlHqXKxPRat0o0GXYtPKpzteyHgCrdg7hOsj20zV9+ROyUDsAI30LQEldFpanm4Aeryh6lLew2w1EGdtDqJgY5W1pyWELZn2U2+HeWlo8XFAy8lsgiFdGAeSP6vesBcDaU/bY8HvdUgCwZ/gUYtPfcPAvIUh1q1/DU3KaLzk6fht8sd4DYP38C3SgABBvDR7ATpZlCgAr7N7ma5nrEAGMAK4AIDzEz6wGwJaGe+nb9wHWIow6gKBU6fc8JSdRdd9aNqYrAEIV2J1WCWBFeScAZIRxBlhJV+d+FshcEnt7/tsAMA/G+AwkxVf5c3YUid01r4SxPYT1CuJdkgKYcWeqx/kQGgUOuSe/VKYDgL2/+DXc7L6uQEdwWIcmueCmWcDZJ/a8HUzXPTNX4sqsnyvwmbyAs89ooN9mvpatDEtJ4jUyw8ubSewnfYEamc7fK9AGaAO0AdoAbYA2QBugDfB/D/AbGdHjsL+tOlEAAAAASUVORK5CYII=\" title=\"emoji-tm\"> sets the</p><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">kubectl --kubeconfig PATH</code></pre></div><p>Uses kubeconfig at PATH</p><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">KUBECONFIG=&quot;&quot; kubectl</code></pre></div><p>Uses <code class=\"language-text\">$HOME/.kube/config</code></p></text-box><text-box variant='learningObjectives' name='kubectl config'><p>kubectl is an HTTP API client.</p><p><code class=\"language-text\">kubectl config view</code> shows the contents of <code class=\"language-text\">$KUBECONFIG</code> (or <code class=\"language-text\">--kubeconfig</code>, or <code class=\"language-text\">$HOME/.kube/config</code>)</p><p>Lens magic <img class=\"emoji-icon\" alt=\"emoji-tm\" data-icon=\"emoji-tm\" style=\"display: inline; margin: 0; margin-top: 1px; position: relative; top: 5px; width: 25px\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAADC0lEQVR4Ae3VA8z1WBDG8f+c9n7W2rZt2461sZ2s46zjjZNltLZt27b9We2ZWdzJSZq+fXO57K+aUz41/3utVqvVarUEAA67kANM6YEEfYLzvD5BzjQFJ/LDj6ezhJo5m069wjIMnHAgLj8UgLiz7E9PDFuc6vWqWxnzLuMJarKj9WAaBOPPboXRa8cKcKVR7cKJgXqnxxhNXW4AKEKvjKS+1VFPnE1JxZ6rTdvbaJIrAHF6HwGm44SabfbdhRep2j+uTqM8AqBXyQsWcaIcKgfj7DEesQAu5y2SAFWZHV0LcAyT8FsQrgeBJJakAHo/FzMhwag58fkLUJKNp611KDD5FaizqfW6twC2w65b8S4kO+vmMvkVmEiJgLNeHsdoUaYAMNWOIQUAOUrFywXMJIeqEJmo0566SKp+sSe9huNIXhU7ytdQvUOtvo+gjKIzKW+N6q294yaRbrfN5nEXn/upPqadEQeIpGpa+ax96K0Zemja/cE2zSM+Fb9UxnYFNI/f6yNeYycb3Y6jU8Rbi3LkAajUxS2pte/StZaylAWrxv398AtXPmrTlHqXKxPRat0o0GXYtPKpzteyHgCrdg7hOsj20zV9+ROyUDsAI30LQEldFpanm4Aeryh6lLew2w1EGdtDqJgY5W1pyWELZn2U2+HeWlo8XFAy8lsgiFdGAeSP6vesBcDaU/bY8HvdUgCwZ/gUYtPfcPAvIUh1q1/DU3KaLzk6fht8sd4DYP38C3SgABBvDR7ATpZlCgAr7N7ma5nrEAGMAK4AIDzEz6wGwJaGe+nb9wHWIow6gKBU6fc8JSdRdd9aNqYrAEIV2J1WCWBFeScAZIRxBlhJV+d+FshcEnt7/tsAMA/G+AwkxVf5c3YUid01r4SxPYT1CuJdkgKYcWeqx/kQGgUOuSe/VKYDgL2/+DXc7L6uQEdwWIcmueCmWcDZJ/a8HUzXPTNX4sqsnyvwmbyAs89ooN9mvpatDEtJ4jUyw8ubSewnfYEamc7fK9AGaAO0AdoAbYA2QBugDfB/D/AbGdHjsL+tOlEAAAAASUVORK5CYII=\" title=\"emoji-tm\"></p><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">$ kubectl config view\n  ...\n  apiVersion: v1\n  clusters:\n  - cluster:\n      server: http://127.0.0.1:61351/9b4307491c8b92b8bbde7f8049943bb1\n  ...</code></pre></div><p>Without Lens magic:</p><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">$ KUBECONFIG=$HOME/.kube/aws-eks-eu-north-1-test-1 kubectl config view\n  apiVersion: v1\n  clusters:\n  - cluster:\n      certificate-authority-data: DATA+OMITTED\n      server: https://7C21A008FAEC9A53D596113221562080.yl4.eu-north-1.eks.amazonaws.com\n    name: arn:aws:eks:eu-north-1:254324309357:cluster/test-1</code></pre></div><p>API?</p><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">$ curl https://7C21A008FAEC9A53D596113221562080.yl4.eu-north-1.eks.amazonaws.com\n  curl: (60) SSL certificate problem: unable to get local issuer certificate\n  More details here: https://curl.se/docs/sslcerts.html</code></pre></div><p>Kubernetes CA cert, let's ignore</p><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">curl -k https://7C21A008FAEC9A53D596113221562080.yl4.eu-north-1.eks.amazonaws.com\n{\n  &quot;kind&quot;: &quot;Status&quot;,\n  &quot;apiVersion&quot;: &quot;v1&quot;,\n  &quot;metadata&quot;: {\n\n  },\n  &quot;status&quot;: &quot;Failure&quot;,\n  &quot;message&quot;: &quot;forbidden: User \\&quot;system:anonymous\\&quot; cannot get path \\&quot;/\\&quot;&quot;,\n  &quot;reason&quot;: &quot;Forbidden&quot;,\n  &quot;details&quot;: {\n\n  },\n  &quot;code&quot;: 403\n}%</code></pre></div><p>but</p><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">$ curl -k https://7C21A008FAEC9A53D596113221562080.yl4.eu-north-1.eks.amazonaws.com/version\n  {\n    &quot;major&quot;: &quot;1&quot;,\n    &quot;minor&quot;: &quot;22+&quot;,\n    &quot;gitVersion&quot;: &quot;v1.22.15-eks-fb459a0&quot;,\n    &quot;gitCommit&quot;: &quot;be82fa628e60d024275efaa239bfe53a9119c2d9&quot;,\n    &quot;gitTreeState&quot;: &quot;clean&quot;,\n    &quot;buildDate&quot;: &quot;2022-10-24T20:33:23Z&quot;,\n    &quot;goVersion&quot;: &quot;go1.16.15&quot;,\n    &quot;compiler&quot;: &quot;gc&quot;,\n    &quot;platform&quot;: &quot;linux/amd64&quot;\n  }%</code></pre></div><p>Naturally also client libraries exists <a href=\"https://kubernetes.io/docs/reference/using-api/client-libraries/\" target=\"_blank\" rel=\"noopener noreferrer\">https://kubernetes.io/docs/reference/using-api/client-libraries/</a></p></text-box><text-box variant='learningObjectives' name='whops'><p><a href=\"https://arstechnica.com/information-technology/2018/02/tesla-cloud-resources-are-hacked-to-run-cryptocurrency-mining-malware/\" target=\"_blank\" rel=\"noopener noreferrer\">https://arstechnica.com/information-technology/2018/02/tesla-cloud-resources-are-hacked-to-run-cryptocurrency-mining-malware/</a></p></text-box><text-box variant='learningObjectives' name='kubectl vs kube api version'><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">$ KUBECONFIG=$HOME/.kube/aws-eks-eu-north-1-test-1 kubectl version --short\n  Client Version: v1.24.7\n  ..\n  Server Version: v1.22.15-eks-fb459a0\n  WARNING: version difference between client (1.24) and server (1.22) exceeds the supported minor version skew of +/-1</code></pre></div><p>kubectl version <em>can</em> be different than server version. Some stuff just might not work or be available.</p></text-box><text-box variant='learningObjectives' name='kubectl can exec commands'><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">- name: arn:aws:eks:eu-north-1:12345678:cluster/test-1\n  user:\n    exec:\n      apiVersion: client.authentication.k8s.io/v1beta1\n      args:\n      - --region\n      - eu-north-1\n      - eks\n      - get-token\n      - --cluster-name\n      - test-1\n      command: aws</code></pre></div></text-box><summary><ul>\n<li>kubectl is an HTTP API client</li>\n<li>kubectl uses kubeconfig in some way</li>\n</ul></summary></div>","frontmatter":{"path":"/part-0/2-kubectl-config","title":"kubectl config"},"fileAbsolutePath":"/Users/matti/dev/kubernetes-hy.github.io/data/part-0/2-kubectl-config.md"},"allPages":{"edges":[{"node":{"id":"b1c47f2d-76e9-58d8-9a14-2b6132468171","frontmatter":{"path":"/frontmatter-guide","title":"Frontmatter-guide"}}},{"node":{"id":"12166a9a-6e11-5213-94d8-08c3f18bce09","frontmatter":{"path":"/sanasto","title":"Sanasto"}}},{"node":{"id":"24e8849f-09ad-5dc0-ada7-9ee5278ef27b","frontmatter":{"path":"/part-0","title":"Part 0"}}},{"node":{"id":"8467a6ee-a4e0-5f79-92f4-8876c9a97f5d","frontmatter":{"path":"/part-0/2-kubectl-config","title":"kubectl config"}}},{"node":{"id":"13dd60c3-9be6-5a4b-ae4f-116e6dcffdb1","frontmatter":{"path":"/part-0/3-kubectl-basics","title":"kubectl basics"}}},{"node":{"id":"0521f0d3-f635-5905-a983-8a5d07967c76","frontmatter":{"path":"/part-0/1-kubernetes","title":"Kubernetes"}}},{"node":{"id":"a263867b-5ee2-59a1-b9cc-3ffa8e0b8965","frontmatter":{"path":"/part-0/5-pod","title":"Pod"}}},{"node":{"id":"b329e1eb-4475-517c-aacc-00490d0d2839","frontmatter":{"path":"/part-1","title":"Part 1"}}},{"node":{"id":"f2603f2a-7d1c-577c-b6ef-cff715589ff2","frontmatter":{"path":"/part-1/1-first-deploy","title":"First Deploy"}}},{"node":{"id":"bd25e984-94a9-534b-8527-3869b6c77792","frontmatter":{"path":"/part-1/3-loadbalancer","title":"LoadBalancer"}}},{"node":{"id":"1cb09917-b0d2-558b-b2f2-86e195b30139","frontmatter":{"path":"/part-0/4-namespace","title":"Namespace"}}},{"node":{"id":"1b008c97-c439-59e0-aae1-3f90dbdd3f26","frontmatter":{"path":"/part-1/2-second-deploy","title":"Second Deploy"}}},{"node":{"id":"c641591d-97e5-5c9c-a217-783adff04421","frontmatter":{"path":"/part-1/4-clusterip","title":"ClusterIP"}}},{"node":{"id":"9d9ca5cf-d405-50f5-b561-f857d2a77c76","frontmatter":{"path":"/","title":"Homepage"}}}]}},"pageContext":{}},"staticQueryHashes":["3294351120","994120085"]}